<div class="flex flex-col w-full" id="connection">
  <div class="flex justify-between items-center mb-2">
    <h3 class="font-semibold text-2xl">Connection</h3>
    <div class="flex items-center" id="connectionStatus"></div>
    <a (click)="show_connection()" class="text-gray-500 hover:text-gray-700">
      <div class="icon-arrow-chevron"></div>
    </a>
  </div>

  <div
    [ngClass]="{
      'success-border': mqttService.isConnected && showSuccessBorder,
      'blinking-border': !mqttService.isConnected,
      'no-border': !showSuccessBorder && mqttService.isConnected
    }"
    class="w-full bg-white/70 dark:bg-gray-800/70 rounded-3xl shadow drop-shadow-xl p-4 border-2 backdrop-blur-xl"
    id="conniMain">
    <form class="space-y-3">
      <div class="flex flex-wrap gap-2">
        <div class="flex-1 min-w-[200px]">
          <label class="block font-medium">Host</label>
          <input [(ngModel)]="host"
                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300"
                 name="host"
                 type="text">
        </div>

        <div class="flex-1 min-w-[80px]">
          <label class="block font-medium">Port</label>
          <input [(ngModel)]="port"
                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300"
                 name="port"
                 type="number">
        </div>

        <div class="flex-1 min-w-[150px]">
          <label class="block font-medium">ClientID</label>
          <input [(ngModel)]="clientId"
                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300"
                 name="clientId"
                 type="text">
        </div>

        <div class="flex items-center">
          <button (click)="connect()" *ngIf="!mqttService.isConnected"
                  class="mt-7 mr-2 px-3 py-1 text-white bg-blue-600 hover:bg-blue-700 rounded"
                  type="button">Connect
          </button>
          <button (click)="disconnect()" *ngIf="mqttService.isConnected"
                  class="mt-7 px-3 py-1 text-white bg-red-600 hover:bg-red-700 rounded"
                  type="button">Disconnect
          </button>
        </div>
      </div>

      <!--      <div class="flex flex-wrap gap-2">-->
      <!--        <div class="flex-1 min-w-[200px]">-->
      <!--          <label class="block font-medium">Username</label>-->
      <!--          <input type="text" [(ngModel)]="username" name="username"-->
      <!--                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300">-->
      <!--        </div>-->

      <!--        <div class="flex-1 min-w-[200px]">-->
      <!--          <label class="block font-medium">Password</label>-->
      <!--          <input type="password" [(ngModel)]="password" name="password"-->
      <!--                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300">-->
      <!--        </div>-->

      <!--        <div class="flex-1 min-w-[120px]">-->
      <!--          <label class="block font-medium">Keep Alive</label>-->
      <!--          <input type="number" [(ngModel)]="keepAlive" value="60" name="keepAlive"-->
      <!--                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300">-->
      <!--        </div>-->

      <!--        <div class="flex items-center">-->
      <!--          <label class="mr-2">SSL</label>-->
      <!--          <input type="checkbox" [(ngModel)]="ssl" name="ssl" class="form-checkbox h-5 w-5 text-blue-600"/>-->
      <!--        </div>-->

      <!--        <div class="flex items-center">-->
      <!--          <label class="mr-2">Clean Session</label>-->
      <!--          <input type="checkbox" id="cleanSessionInput" checked disabled class="form-checkbox h-5 w-5 text-gray-400"/>-->
      <!--        </div>-->
      <!--      </div>-->

      <!--      <div class="flex flex-wrap gap-2">-->
      <!--        <div class="flex-1 min-w-[200px]">-->
      <!--          <label class="block font-medium">Last-Will Topic</label>-->
      <!--          <input type="text" [(ngModel)]="lwTopic" name="lwTopic"-->
      <!--                 class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300">-->
      <!--        </div>-->

      <!--        <div class="flex-1 min-w-[120px]">-->
      <!--          <label class="block font-medium">Last-Will QoS</label>-->
      <!--          <select [(ngModel)]="lwQos" name="lwQos"-->
      <!--                  class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300">-->
      <!--            <option [value]="0">0</option>-->
      <!--            <option [value]="1">1</option>-->
      <!--            <option [value]="2">2</option>-->
      <!--          </select>-->
      <!--        </div>-->

      <!--        <div class="flex-1 min-w-[120px]">-->
      <!--          <label class="block font-medium">Last-Will Retain</label>-->
      <!--          <input type="checkbox" [(ngModel)]="lwRetain" name="lwRetain" class="form-checkbox h-5 w-5 text-blue-600"/>-->
      <!--        </div>-->
      <!--      </div>-->

      <!--      <div class="flex-1">-->
      <!--        <label class="block font-medium">Last-Will Message</label>-->
      <!--        <textarea [(ngModel)]="lwMessage" name="lwMessage"-->
      <!--                  class="w-full border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-300"></textarea>-->
      <!--      </div>-->
    </form>
    <h3 [ngClass]="{'text-green-600': mqttService.isConnected, 'text-red-600': !mqttService.isConnected}"
        class="text-center font-bold text-xl bg-opacity-50 mt-5">
      {{ mqttService.isConnected ? 'Connected' : 'Not connected' }}
    </h3>
  </div>
</div>
